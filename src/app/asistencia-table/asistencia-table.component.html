<div class="asistencia-container">
  <table class="asistencia-table">
    <thead>
      <tr>
        <th>Alumno</th>
        <th *ngFor="let fecha of fechas">{{ fecha | date:'dd/MM/yyyy' }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of alumnosMap | keyvalue; trackBy: trackByAlumno">
        <td class="nombre">{{ item.value.nombre }}</td>
        <td *ngFor="let fecha of fechas" class="checkbox-cell">
          <mat-checkbox
            [(ngModel)]="item.value.asistenciasPorFecha[fecha]"
            (change)="marcarModificado(item.key, fecha)">
          </mat-checkbox>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="acciones">
    <button mat-raised-button color="primary"
            (click)="guardarCambios()"
            [disabled]="!hasChanges()">
      Guardar cambios ({{ getChangesCount() }})
    </button>
  </div>
</div>
