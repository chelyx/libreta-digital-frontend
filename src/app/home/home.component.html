<mat-drawer-container class="container">
  <mat-drawer #drawer class="sidenav" mode="over">
    <mat-nav-list>
      <a mat-list-item *ngFor="let link of actions" (click)="navigateToPanel(link.panel); drawer.close()">
        <mat-icon>{{ link.icon }}</mat-icon>
        <span>{{ link.label }}</span>
      </a>
      <a mat-list-item (click)="logout(); drawer.close()">
        <mat-icon>logout</mat-icon>
        <span>Salir</span>
      </a>
    </mat-nav-list>
  </mat-drawer>

  <mat-drawer-content class="sidenav-content">
    <mat-toolbar class="navbar">
      <button mat-icon-button (click)="drawer.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="app-title">SIRCA</span>
      <span></span>
    </mat-toolbar>

    <div class="home-container">
      <!-- DASHBOARD -->
      <div class="dashboard" *ngIf="currentPanel === ''">
        <div class="welcome-section">
          <img src="assets/logo.png" alt="Logo SIRCA" class="logo" (click)="navigateToPanel('')">
          <h1 class="welcome-title">Bienvenido</h1>
          <p class="welcome-subtitle">Sistema de Gestión Académica</p>
        </div>

        <!-- MAIN CARDS -->
        <div class="cards-container" *ngIf="mainCards.length > 0">
          <div class="main-action-card" *ngFor="let card of mainCards" (click)="navigateToPanel(card.panel)">
            <mat-icon>{{ card.icon }}</mat-icon>
            <h2 class="card-title">{{ card.title }}</h2>
            <p class="card-description">{{ card.description }}</p>
            <button mat-raised-button [color]="card.color">{{ card.buttonLabel }}</button>
          </div>
        </div>
      </div>

      <!-- PANELS -->
      <app-code-generator *ngIf="currentPanel === PANELES.CODE_GENERATOR"></app-code-generator>
      <app-mis-materias *ngIf="currentPanel === PANELES.MATERIAS"></app-mis-materias>
      <app-toma-de-asistencia *ngIf="currentPanel === PANELES.ASISTENCIA" [cursos]="cursos"></app-toma-de-asistencia>
      <app-code-validator *ngIf="currentPanel === PANELES.CODE_VALIDATOR"></app-code-validator>
      <app-carga-finales *ngIf="currentPanel === PANELES.CALIFICACIONES"></app-carga-finales>
      <app-asistencia-table *ngIf="currentPanel === PANELES.ASISTENCIA_TABLE" [cursos]="cursos" ></app-asistencia-table>
      <app-historial-notas *ngIf="currentPanel === PANELES.HISTORIAL_NOTAS"></app-historial-notas>
      <app-notas-table *ngIf="currentPanel === PANELES.EDITAR_NOTAS" [cursos]="cursos"></app-notas-table>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
