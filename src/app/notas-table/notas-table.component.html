<div class="notas-container">
  <!-- Header principal -->
  <div class="page-header">
    <h1>Carga de Calificaciones</h1>
    <p>Ex√°menes Finales</p>
  </div>

  <!-- PASO 1: Seleccionar Mesa de Examen -->
  <div class="step-card">
    <div class="step-header">
      <span class="step-badge">PASO 1</span>
      <h2>Seleccionar Mesa de Examen</h2>
    </div>
    <div class="step-body">
      <div class="form-field">
        <mat-form-field appearance="outline" class="curso-select">
          <mat-label>Materia</mat-label>
          <mat-select [(ngModel)]="cursoSeleccionado" (selectionChange)="onCursoChange($event.value)">
            <mat-option *ngFor="let curso of cursos" [value]="curso.id">
              {{ curso.nombre }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>

  <!-- PASO 2: Cargar Calificaciones (solo se muestra si hay curso seleccionado y alumnos) -->
  <div class="step-card" *ngIf="cursoSeleccionado && notas.length > 0">
    <div class="step-header">
      <span class="step-badge">PASO 2</span>
      <h2>Cargar Calificaciones</h2>
    </div>
    <div class="step-body">
      <table class="notas-table">
        <thead>
        <tr>
          <th>Alumno</th>
          <th>Nota</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let alumno of notas">
          <td class="nombre">{{ alumno.alumnoNombre }}</td>
          <td>
            <mat-form-field appearance="outline" class="nota-input">
              <input matInput type="number"
                     [(ngModel)]="alumno.valor"
                     min="1" max="10"
                     placeholder="Ingrese nota" />
            </mat-form-field>
          </td>
        </tr>
        </tbody>
      </table>

      <div class="acciones">
        <button mat-raised-button
                (click)="guardarNotas()">
          Guardar notas ({{ notas.length }})
        </button>
      </div>
    </div>
  </div>

  <!-- Mensaje si no hay alumnos -->
  <div class="no-alumnos" *ngIf="cursoSeleccionado && notas.length === 0">
    No hay alumnos cargados para este curso.
  </div>
</div>
