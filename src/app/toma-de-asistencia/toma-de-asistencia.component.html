<!-- Banner de título principal -->
<div class="titulo-banner">
  <h1 class="title">Toma de Asistencia</h1>
</div>

 <app-buscador-curso [cursos]="cursos" (selected)="onCursoChange($event)" >    </app-buscador-curso>

<!-- Lista de alumnos -->
<div class="alumnos-lista" *ngIf="cursoSeleccionado">
  <div
    class="alumno-card"
    *ngFor="let a of alumnos; trackBy: trackByAuth0Id"
  >
    <div class="alumno-info">
      <div class="alumno-nombre">{{ a.nombre }}</div>
      <div class="alumno-email">{{ a.email }}</div>
    </div>

    <div class="asistencia-buttons">
      <button
        mat-raised-button
        class="btn-asistencia btn-si"
        [class.selected]="asistencias[a.auth0Id] === true"
        (click)="asistencias[a.auth0Id] = true"
      >
        SÍ
      </button>
      <button
        mat-raised-button
        class="btn-asistencia btn-no"
        [class.selected]="asistencias[a.auth0Id] === false"
        (click)="asistencias[a.auth0Id] = false"
      >
        NO
      </button>
    </div>
  </div>

  <!-- Estado vacío -->
  <div class="empty-state" *ngIf="alumnos.length === 0">
    <mat-icon>search_off</mat-icon>
    <p>No se encontraron alumnos</p>
  </div>
</div>

<!-- Botón Guardar -->
<div class="guardar-section" *ngIf="cursoSeleccionado">
  <button
    mat-raised-button
    class="guardar-button"
    (click)="guardarAsistencia()"
    [disabled]="saving"
  >
    <mat-icon>save</mat-icon>
    {{ saving ? 'Guardando...' : 'Guardar' }}
  </button>
</div>
